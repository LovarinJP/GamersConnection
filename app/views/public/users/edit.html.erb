<div class="container justify-content-center">
  <%= render 'public/posts/error', post: @user %>
  <div class="row mt-3 d-flex justify-content-center">
    <div class="col-md-4 col-12 text-left">
      <p class="pheader">ユーザー編集</p>
    </div>
  </div>

  <div class="row mt-3 justify-content-center">
    <div class="col-md-5 col-12">
      <%= form_with model: @user, url: user_path(@user), method: :patch do |f| %>
        <div class="form-group">
          <%= f.label :画像, class: "col-form-label" %><br>
          <%= f.file_field :profile_image, accept: "image/*", include_blank: "ファイルを選択" %>
        </div>
        <div class="form-group">
          <%= f.label :名前, class: "col-form-label" %>
          <%= f.text_field :name, class: "form-control" %>
        </div>
        <div class="form-group">
          <%= f.label :表示名, class: "col-form-label" %>
          <%= f.text_field :nickname, class: "form-control" %>
        </div>
        <div class="form-group">
          <%= f.label :自己紹介, class: "col-form-label" %>
          <%= f.text_area :caption, class: "form-control" %>
        </div>
        <div class="form-group mt-2 d-flex justify-content-end">
          <%= f.submit "送信", class: "btn btn-info" %>
        </div>
      <% end %>
    </div>
  </div>
  <% if @user == current_user %>
    <div class="row mt-2 d-flex justify-content-center">
      <div class="col-md-5 col-12 d-flex justify-content-end">
        <%= link_to "退会", withdraw_path, method: :patch, class: "btn btn-danger", data: { confirm: "本当に退会しますか？" } %>
      </div>
    </div>
  <% end %>
</div>